<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Профориентация от Alteco Partners</title>
  <style>
    body {
      margin: 0;
      font-family: "Segoe UI", sans-serif;
      background: linear-gradient(120deg, #a18cd1 0%, #fbc2eb 100%);
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 2rem;
      min-height: 100vh;
    }
    .container {
      background-color: rgba(0, 0, 0, 0.4);
      padding: 2rem;
      border-radius: 1rem;
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.2);
      max-width: 600px;
      width: 100%;
    }
    h1, h2 {
      text-align: center;
    }
    button, select {
      background: #fff;
      color: #333;
      border: none;
      padding: 0.7rem 1.2rem;
      margin-top: 1rem;
      font-size: 1rem;
      cursor: pointer;
      border-radius: 0.5rem;
    }
    .question {
      margin: 1.2rem 0;
    }
    .hidden {
      display: none;
    }
    .result {
      font-size: 1.4rem;
      font-weight: bold;
      text-align: center;
    }
    img {
      max-width: 100%;
      border-radius: 1rem;
      box-shadow: 0 0 15px white;
      margin-top: 1rem;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Профориентация от Alteco Partners</h1>
    <div id="start">
      <h2>Выбери тему:</h2>
      <select id="topic">
        <option value="">-- Выбери --</option>
        <option value="code">Программирование</option>
        <option value="design">Дизайн</option>
        <option value="pm">Проектный менеджмент</option>
        <option value="qa">Тестирование</option>
        <option value="lead">Руководитель</option>
        <option value="sales">Продажи</option>
      </select>
      <br>
      <button id="startBtn" type="button">Начать тест</button>
    </div>
    <div id="quiz" class="hidden"></div>
    <div id="result" class="hidden result"></div>
  </div>

  <script>
    // Вопросы — по 10 на каждую тему
    const questions = {
      code: [
        { q: "Какой язык ты выберешь?", options: ["Python", "JavaScript", "C++"] },
        { q: "Что тебе ближе?", options: ["Фронтенд", "Бэкенд", "DevOps"] },
        { q: "Любишь писать тесты?", options: ["Да", "Нет", "Иногда"] },
        { q: "Git для тебя — это?", options: ["Лучший друг", "Зло", "Просто инструмент"] },
        { q: "Как ты решаешь баги?", options: ["Гуглю", "Коллега спасает", "Интуитивно"] },
        { q: "Тёмная тема IDE?", options: ["Да", "Нет", "Смотря когда"] },
        { q: "Какой паттерн любимый?", options: ["MVC", "Singleton", "Factory"] },
        { q: "Ты используешь ChatGPT?", options: ["Да", "Нет", "Иногда"] },
        { q: "Работаешь с базами данных?", options: ["SQL", "NoSQL", "Обе"] },
        { q: "Что важнее?", options: ["Код", "UI", "Архитектура"] }
      ],
      design: [
        { q: "Какой стиль тебе ближе?", options: ["Минимализм", "Гранж", "Киберпанк"] },
        { q: "Какой инструмент ты любишь?", options: ["Figma", "Photoshop", "Illustrator"] },
        { q: "Как ты подходишь к работе?", options: ["Интуитивно", "По системе", "Импровизация"] },
        { q: "Ты веришь в дизайн-системы?", options: ["Да", "Нет", "Они мешают"] },
        { q: "Что важнее в UI?", options: ["Удобство", "Красота", "Оригинальность"] },
        { q: "Шрифты для тебя — это:", options: ["Искусство", "Инструмент", "Головная боль"] },
        { q: "Цветовая палитра:", options: ["Пастель", "Контраст", "Монохром"] },
        { q: "Как ты относишься к правкам от клиента?", options: ["Норм", "Плачу", "Спокойно"] },
        { q: "Какой макет ты сделаешь?", options: ["Лендинг", "Сложное веб-приложение", "Мобильное"] },
        { q: "Ты следишь за трендами?", options: ["Да", "Нет", "Иногда"] }
      ],
      pm: [
        { q: "Как ты управляешь проектами?", options: ["Scrum", "Kanban", "Waterfall"] },
        { q: "Как часто ты проводишь ретроспективы?", options: ["Каждую спринт", "Раз в месяц", "Редко"] },
        { q: "Как ты ведешь документацию?", options: ["Confluence", "Google Docs", "Не люблю документацию"] },
        { q: "Что важнее в команде?", options: ["Коммуникация", "Процессы", "Навыки"] },
        { q: "Как ты оцениваешь задачи?", options: ["Story Points", "Часы", "На глаз"] },
        { q: "Как ты относишься к дедлайнам?", options: ["Четко слежу", "Гибко", "Зависит от проекта"] },
        { q: "Ты больше:", options: ["Лидер", "Координатор", "Помощник"] },
        { q: "Какой софт ты используешь?", options: ["Jira", "Trello", "Excel"] },
        { q: "Как ты решаешь конфликты?", options: ["Диалог", "Модерация", "Игнорирую"] },
        { q: "Как ты запускаешь проекты?", options: ["С планом", "По наитию", "Как получится"] }
      ],
      qa: [
        { q: "Что ты тестируешь?", options: ["Веб", "Мобильные приложения", "API"] },
        { q: "Какой вид тестирования любимый?", options: ["Функциональное", "Нагрузочное", "UI/UX"] },
        { q: "Какие инструменты используешь?", options: ["Postman", "JMeter", "Selenium"] },
        { q: "Ты пишешь автотесты?", options: ["Да", "Нет", "Иногда"] },
        { q: "Ты больше:", options: ["Манул", "Автоматизатор", "Комбо"] },
        { q: "Как ты оформляешь баги?", options: ["Четко по шаблону", "На ходу", "Как получится"] },
        { q: "Как относишься к регрессу?", options: ["Нравится", "Скучно", "Нужно"] },
        { q: "Какие баги сложнее найти?", options: ["Интерфейсные", "Бизнес-логика", "Зависимости"] },
        { q: "Ты используешь тестовую документацию?", options: ["Да", "Редко", "Нет"] },
        { q: "Сколько раз перепроверяешь баг?", options: ["1", "2+", "Зависит"] }
      ],
      lead: [
        { q: "Как ты принимаешь решения?", options: ["Быстро", "Взвешенно", "Советуюсь"] },
        { q: "Что для тебя важнее?", options: ["Результат", "Процесс", "Команда"] },
        { q: "Как ты мотивируешь людей?", options: ["Премии", "Похвала", "Обучение"] },
        { q: "Как ты решаешь конфликты?", options: ["Лично", "Через HR", "Игнорирую"] },
        { q: "Как ты планируешь работу?", options: ["Детально", "Гибко", "Минимум планов"] },
        { q: "Как ты относишься к дедлайнам?", options: ["Жёстко", "Гибко", "Зависит"] },
        { q: "Как ты выбираешь сотрудников?", options: ["По навыкам", "По личным качествам", "По потенциалу"] },
        { q: "Что важнее для бизнеса?", options: ["Прибыль", "Репутация", "Инновации"] },
        { q: "Как часто проводишь совещания?", options: ["Каждый день", "Раз в неделю", "По необходимости"] },
        { q: "Как реагируешь на провал?", options: ["Анализирую", "Обвиняю", "Делаю выводы"] }
      ],
      sales: [
        { q: "Как ты привлекаешь клиентов?", options: ["Холодные звонки", "Реклама", "Рекомендации"] },
        { q: "Что важнее в продажах?", options: ["Отношения", "Цена", "Качество продукта"] },
        { q: "Как ты работаешь с возражениями?", options: ["Аргументы", "Скидки", "Обход"] },
        { q: "Как ты презентуешь продукт?", options: ["Эмоционально", "Технически", "Коротко"] },
        { q: "Как ты ведёшь клиента?", options: ["Пошагово", "Гибко", "Импровизирую"] },
        { q: "Как ты относишься к KPI?", options: ["Мотивируют", "Давят", "Нейтрально"] },
        { q: "Как работаешь с долгосрочными клиентами?", options: ["Поддерживаю связь", "Редко общаюсь", "Только по делу"] },
        { q: "Как реагируешь на отказ?", options: ["Ищу причину", "Перехожу к следующему", "Пытаюсь вернуть"] },
        { q: "Как ищешь новые возможности?", options: ["Нетворкинг", "Исследование рынка", "Случайно"] },
        { q: "Что важнее для сделки?", options: ["Доверие", "Сроки", "Цена"] }
      ]
    };

    const fairies = [
      { name: "Блум 🔥", img: "images/bloom.png" },
      { name: "Стелла 🌟", img: "images/stella.png" },
      { name: "Флора 🌸", img: "images/flora.png" },
      { name: "Муза 🎵", img: "images/musa.png" },
      { name: "Текна 🤖", img: "images/tecna.png" },
      { name: "Лейла 🌊", img: "images/aisha.png" }
    ];

    let selectedTopic = "";
    let answers = [];

    // Привязываем кнопку через JS (без inline onclick)
    document.getElementById('startBtn').addEventListener('click', startTest);

    function startTest() {
      const topicSelect = document.getElementById("topic");
      selectedTopic = topicSelect.value;
      if (!selectedTopic || !questions[selectedTopic]) {
        alert("Пожалуйста, выбери тему!");
        return;
      }
      answers = [];
      document.getElementById("start").classList.add("hidden");
      showQuestion(0);
    }

    function showQuestion(index) {
      const quizDiv = document.getElementById("quiz");
      const qArr = questions[selectedTopic];
      if (!qArr) {
        console.error("Тема не найдена:", selectedTopic);
        alert("Ошибка: тема не найдена.");
        return;
      }
      if (index >= qArr.length) {
        showResult();
        return;
      }

      const question = qArr[index];
      quizDiv.innerHTML = ""; // очищаем перед отрисовкой

      const container = document.createElement('div');
      container.className = 'question';

      const header = document.createElement('h2');
      header.textContent = `Вопрос ${index + 1} из ${qArr.length}`;
      container.appendChild(header);

      const p = document.createElement('p');
      p.textContent = question.q;
      container.appendChild(p);

      // создаём кнопки безопасно (без внедрения кавычек)
      question.options.forEach(opt => {
        const btn = document.createElement('button');
        btn.type = 'button';
        btn.textContent = opt;
        btn.style.display = 'block';
        btn.style.marginTop = '0.5rem';
        btn.addEventListener('click', () => answerQuestion(index, opt));
        container.appendChild(btn);
      });

      quizDiv.appendChild(container);
      quizDiv.classList.remove('hidden');
    }

    function answerQuestion(index, answer) {
      answers.push(answer);
      showQuestion(index + 1);
    }

    function showResult() {
      document.getElementById("quiz").classList.add("hidden");
      const resultDiv = document.getElementById("result");
      const fairy = fairies[Math.floor(Math.random() * fairies.length)];
      resultDiv.innerHTML = `
        <p>✨ Ты — <strong>${fairy.name}</strong>! ✨</p>
        <img src="${fairy.img}" alt="${fairy.name}">
        <br><button id="retryBtn" type="button">Пройти снова</button>
      `;
      document.getElementById("retryBtn").addEventListener('click', () => {
        // обновляем страницу или можно вернуть старт
        location.reload();
      });
      resultDiv.classList.remove('hidden');
    }
  </script>
</body>
</html>
